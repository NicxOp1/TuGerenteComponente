<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Godspeed</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Main Overlay Container -->
    <div id="app" class="overlay-container">
        <!-- Drag Handle -->
        <div class="drag-handle"></div>

        <!-- Close Button -->
        <button class="close-btn" id="close-app" title="Alt+L to close">×</button>

        <!-- Quick Entry Command Input -->
        <div class="command-section">
            <div class="command-input-wrapper">
                <span class="command-icon">⚡</span>
                <input
                    type="text"
                    id="command-input"
                    class="command-input"
                    placeholder="What needs to be done?"
                    autocomplete="off"
                    autofocus
                >
            </div>
            <div class="command-hint">Press <kbd>Enter</kbd> to create • <kbd>↑↓</kbd> to navigate • <kbd>Esc</kbd> to close</div>
        </div>

        <!-- Task Creation Panel (appears when typing) -->
        <div id="task-panel" class="task-panel hidden">
            <div class="panel-section">
                <label class="panel-label">Due</label>
                <div class="date-time-picker">
                    <input type="text" id="quick-date" placeholder="tomorrow, 3d, next monday..." class="date-input">
                    <div class="time-picker hidden" id="time-picker-dropdown">
                        <div class="time-preset" data-time="9:00">Morning (9:00 AM)</div>
                        <div class="time-preset" data-time="12:00">Noon (12:00 PM)</div>
                        <div class="time-preset" data-time="15:00">Afternoon (3:00 PM)</div>
                        <div class="time-preset" data-time="18:00">Evening (6:00 PM)</div>
                        <div class="time-divider"></div>
                        <div class="custom-time">
                            <input type="time" id="custom-time-input" class="time-input-field">
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel-section">
                <label class="panel-label">Labels</label>
                <div class="labels-input-wrapper">
                    <input type="text" id="labels-input" placeholder="Add labels..." class="labels-input">
                    <div id="label-suggestions" class="label-suggestions hidden"></div>
                </div>
            </div>

            <div class="panel-section">
                <label class="panel-label">Priority</label>
                <div class="priority-selector">
                    <button class="priority-btn" data-priority="low">
                        <span class="priority-dot low"></span>
                        Low
                    </button>
                    <button class="priority-btn" data-priority="medium">
                        <span class="priority-dot medium"></span>
                        Medium
                    </button>
                    <button class="priority-btn active" data-priority="high">
                        <span class="priority-dot high"></span>
                        High
                    </button>
                </div>
            </div>

            <div class="panel-actions">
                <button class="btn-cancel" id="cancel-task">Cancel</button>
                <button class="btn-create" id="create-task">Create Task</button>
            </div>
        </div>

        <!-- Tasks List -->
        <div id="tasks-list" class="tasks-list">
            <!-- Empty State -->
            <div class="empty-state" id="empty-state">
                <div class="empty-icon">✨</div>
                <div class="empty-text">No tasks yet</div>
                <div class="empty-subtext">Type above to create your first task</div>
            </div>
        </div>

        <!-- Footer Stats -->
        <div class="footer-stats">
            <div class="stat">
                <span class="stat-value" id="total-count">0</span>
                <span class="stat-label">total</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="today-count">0</span>
                <span class="stat-label">today</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="completed-count">0</span>
                <span class="stat-label">done</span>
            </div>
            <button class="settings-icon" id="settings-btn" title="Settings">⚙️</button>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="close-settings">×</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label>Airtable API Key</label>
                    <input type="password" id="airtable-api-key" placeholder="Enter your API key">
                </div>
                <div class="setting-group">
                    <label>Base ID</label>
                    <input type="text" id="airtable-base-id" placeholder="appXXXXXXXXXXXXXX">
                </div>
                <div class="setting-group">
                    <label>Table Name</label>
                    <input type="text" id="airtable-table-name" value="tasks" placeholder="tasks">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="cancel-settings">Cancel</button>
                <button class="btn-create" id="save-settings">Save</button>
            </div>
        </div>
    </div>

    <div id="notification" class="notification hidden"></div>

    <script src="js/airtable-service.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
